\usepackage{tcolorbox}
\tcbuselibrary{listingsutf8}

\usepackage{needspace} % 改ページ防止用
\raggedbottom          % 不自然な空白改ページを減らす

% コードブロック用のスタイル（白黒印刷向け）
\newtcolorbox{codeblock}{
  colback=gray!15,       % 背景色（薄いグレー）
  colframe=gray!50,      % 枠線（濃いグレー）
  boxrule=0.5pt,
  arc=1.5mm,
  left=4pt, right=4pt, top=4pt, bottom=4pt,
  listing only,
  listing options={
    basicstyle=\ttfamily\footnotesize,
    breaklines=true,
    extendedchars=true,
    inputencoding=utf8
  }
}

% 見出し前に最低限確保する行数
\newcommand{\sectionbreak}{\Needspace{3\baselineskip}}
