# [パーミッション（アクセス権）](permission.md)

- **読み方**：パーミッション
- **意味**：ファイルやディレクトリに対して誰がどの操作を行えるかを設定する権限
- **用途**：セキュリティや操作制御のため、ユーザーごとに読み取り・書き込み・実行の権限を管理する

## 利用環境

LinuxやmacOSのターミナル、WSL、Git Bashなど

## パーミッションの基本

Linux では、パーミッションは **3種類の権限 × 3つのユーザー区分** で表される

| 権限 | 意味          |
| -- | ----------- |
| r  | 読み取り（read）  |
| w  | 書き込み（write） |
| x  | 実行（execute） |

| ユーザー区分  | 意味                 |
| ------- | ------------------ |
| 所有者（u）  | ファイルを作成したユーザー      |
| グループ（g） | 所有者と同じグループに属するユーザー |
| その他（o）  | 上記以外の全ユーザー         |

### 表記例

```bash
drwxr-xr-x  2 user user 4096  9月  8 12:05 ディレクトリ名
```

- 最初の `d` ：ディレクトリ（ファイルは `-`）
- `rwx`（所有者） ：読み・書き・実行可能
- `r-x`（グループ） ：読み取り・実行のみ
- `r-x`（その他） ：読み取り・実行のみ

## パーミッションの確認

```bash
ls -l ファイル名
```

- ディレクトリの場合は `ls -ld ディレクトリ名`
- 権限が数字（8進数）で確認したい場合は `stat -c "%a %n" ファイル名`

## パーミッションの設定方法

### 1. 数字（8進数）で指定

| 数字 | 権限  | 説明                |
| -- | --- | ----------------- |
| 7  | rwx | 読み取り・書き込み・実行すべて可能 |
| 6  | rw- | 読み取り・書き込み可能、実行不可  |
| 5  | r-x | 読み取り・実行可能、書き込み不可  |
| 4  | r-- | 読み取りのみ可能          |
| 3  | -wx | 書き込み・実行可能、読み取り不可  |
| 2  | -w- | 書き込みのみ可能          |
| 1  | --x | 実行のみ可能            |
| 0  | --- | すべての操作不可          |

#### 例：ディレクトリを所有者にフル権限、他は読み取りのみで作成

```bash
mkdir -m 755 ディレクトリ名
```

（[mkdir コマンド](mkdir.md)）

- 確認コマンド

  ```bash
  ls -ld ディレクトリ名
  ```

- 実行結果の例

  ```bash
  drwxr-xr-x  2 user user 4096  9月  8 12:05 ディレクトリ名
  ```

### 2. [chmod コマンド](chmod.md)で変更

- 書式：`chmod [権限] ファイル名`

  ```bash
  chmod 644 ファイル名   # 所有者：rw、グループ・その他：r-
  chmod u+x スクリプト.sh  # 所有者に実行権限を追加
  chmod go-w ディレクトリ名 # グループとその他の書き込み権限を削除
  ```

### 3. [umask コマンド](umask.md)でデフォルト権限を設定

- 新規作成するファイルやディレクトリの権限を制御
- 例：

  ```bash
  umask 022
  # 新規ディレクトリは 755
  # 新規ファイルは 644
  ```

以上
